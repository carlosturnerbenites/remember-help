extends ../templates/templateApp.jade

block title
	title Actividades

block titleSection
	p Actividades

block modal
	section#confirmActivityWindow.modal.modal-hide(data-rol-modal='modal' data-contentModal data-referenceModal='#modal')
		section.contentModal
			article.titleModal
			article.bodyModal
			article.footerModal
				button.btn.btnError.effect(data-closeModal='#modal' data-rol-modal='close' data-referenceModal='#modal') Volver

block content
	section.activities
		each activity in activities
			article.activity(data-date='#{activity.hour}' data-speech='#{activity.textSpeech}' data-id='#{activity._id}' data-text='#{activity.text}' data-tolerance = '#{activity.tolerance}')
				p.titleActivity #{activity.text}
				img.imgActivity(src='/images/activities/#{activity.img}', alt='')

				- if (activity.state.codeText == 'complete')
					- if (activity.state.detail.aClock)
						- var state = 'complete'
					- else
						- var state = 'warning'
				- else
					- var state = 'inprocess'

				article.reminder(data-statereminder = '#{state}')
					article.titleReminder
						p
					article.date
						span(rol='time')
						span.meridiem

	template#templateConfirmActivityWindow
		section.templateConfirmActivityWindow
			if (children.stateHealth == 1)
				button.btn.btnSuccess.btnRound#buttonCaptureVoice
					span.icon-voice
			else if (children.stateHealth == 2)
				button.btn.btnSuccess.btnRound.effect(onclick='response("si")') Si
					span.icon-
				button.btn.btnError.btnRound.effect(onclick='response("no")') No
					span.icon-
		script(src='/js/confirmActivity.js')

block scripts
	script(src='/js/activities.js')
