<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>

	<input is="totally-not-checkbox">   <!-- Custom Checkbox #1 -->
	<script>
	String.prototype.insertAt = function(index, string) {
		return this.substr(0, index) + string + this.substr(index);
	}

		var proto = Object.create(HTMLInputElement.prototype);
		proto.createdCallback = function() {
			var currentTime = new Date(),
				dateCurrentString = currentTime.toISOString().slice(0,10),
				timeCurrentString = currentTime.toISOString().slice(11,19)
			this.type = "text";
			this.addEventListener("change", this.validateDate);
			this.addEventListener("click", this.editDate.bind(this));
			this.value = dateCurrentString + " " + timeCurrentString
		};
		proto.editDate = function(e){
			var elementDOM = this
			var modifiedValue = this.value.insertAt(this.selectionStart,'|'),
				elements = modifiedValue.split(/-| |:/),
				element = parseInt(elements.find(e => {return e.indexOf("|") >= 0}).replace("|",""))

			this.addEventListener("keydown",function(){
				element++

				elements.forEach((e,i,a) =>{
					if(e.indexOf("|") >= 0){
						a[i] = element
					}
				})

				console.log(elements.join(""))
			})

		}
		proto.validateDate = function(){
			var regExp = /^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/
			if(!regExp.test(this.value)) this.value = ""
		};

		var nCB = document.registerElement("totally-not-checkbox", {
			prototype: proto,
			extends: 'input'
		});

		document.body.appendChild(new nCB());  //Custom Checkbox #2

	</script>
</body>
</html>

